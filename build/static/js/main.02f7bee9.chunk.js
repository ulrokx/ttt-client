(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{43:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),o=t(29),i=t.n(o),a=(t(43),t(5)),s=t(38),u=Object(s.a)("https://arcane-fjord-05208.herokuapp.com/",{autoConnect:!0});u.on("connect",(function(){console.log("connected")}));var l,j,b,d,O,f,x,h,g,m,p,v,S=t(3),y=t(4),k={lightblue:"#A9EBFF",darkerblue:"#4B9EFD",hoverblue:"#86BDFC",black:"#00171E",orange:"#FFD390",bbackground:"#D8FFDD",hoverorange:"#FFC670"},C=y.a.div(l||(l=Object(S.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-template-rows: 1fr 1fr 1fr;\n    gap: 1em 1em;\n    background: ",";\n    padding: 4em 4em;\n    border-radius: 5%;\n"])),k.bbackground),w=y.a.div(j||(j=Object(S.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\n"]))),F=y.a.h1(b||(b=Object(S.a)(["\nfont-weight: bold;\n"]))),E=y.a.h2(d||(d=Object(S.a)(["\nfont-weight: bold\n"]))),D=t(2),z=Object(c.createContext)(void 0),A=function(e){var n=e.children,t=Object(c.useState)([]),r=Object(a.a)(t,2),o=r[0],i=r[1],s=Object(c.useState)([]),u=Object(a.a)(s,2),l=u[0],j=u[1],b=Object(c.useState)(!1),d=Object(a.a)(b,2),O=d[0],f=d[1],x=Object(c.useState)(null),h=Object(a.a)(x,2),g=h[0],m=h[1],p=Object(c.useState)(null),v=Object(a.a)(p,2),S=v[0],y=v[1];return Object(c.useEffect)((function(){console.log(l)}),[l]),Object(D.jsx)(z.Provider,{value:{currentUser:S,updateCurrentUser:function(e){y(e)},users:l,messages:o,auth:O,position:g,updatePosition:function(e){m(e)},updateMessages:function(e){var n=o.slice();n.push(e),i(n)},updateUsers:function(e){j(e)},updateAuth:function(e){f("true"===e)}},children:n})},U=y.a.button(O||(O=Object(S.a)(["\nbackground-color: ",";\nborder-radius: 15px;\nfont-size: 1.4em;\npadding: 10px 40px;\n\n"])),k.lightblue),B=y.a.input(f||(f=Object(S.a)(["\nfont-size: 1.4em;\npadding: .5em 1em;\nborder-radius: 25px;\nborder-width: 2px;\nborder-color: ",";\nwidth: 14em;\n"])),k.darkerblue),P=function(){var e=Object(c.useContext)(z),n=e.auth,t=e.updatePosition,r=e.updateCurrentUser,o=Object(c.useState)(""),i=Object(a.a)(o,2),s=i[0],l=i[1],j=Object(c.useState)(""),b=Object(a.a)(j,2),d=b[0],O=b[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),h=x[0],g=x[1];return u.on("game:join:good",(function(e){g(e.msg),t(e.position),r(e.username)})),Object(D.jsxs)(D.Fragment,{children:[n?null:Object(D.jsxs)(D.Fragment,{children:[" ",Object(D.jsxs)(w,{children:[Object(D.jsx)(B,{value:s,onChange:function(e){return l(e.target.value)},placeholder:"your name"}),Object(D.jsx)(U,{onClick:function(e){u.emit("game:join",{nick:s,room:d})},children:"Connect"})]}),Object(D.jsx)(B,{value:d,onChange:function(e){return O(e.target.value)},placeholder:"room code"})," "]}),Object(D.jsx)(E,{children:h})]})},T=t(36),J=t(37),L=y.a.button(x||(x=Object(S.a)(["\n    flex: 0.33;\n    width: 10em;\n    height: 10em;\n    background: ",";\n    border-radius: 8%;\n    border-width: 0;\n    box-shadow: 5px 5px 3px grey;\n\n\n    &:hover {\n        background: ","\n    }\n\n    \n    &:active {\n        background: ","\n    }\n\n"])),(function(e){return e.line?k.orange:k.lightblue}),(function(e){return e.line?k.hoverorange:k.hoverblue}),k.darkerblue),M=function(e){var n=e.display,t=(e.id,e.press),c=e.isLine;return Object(D.jsx)(L,{onClick:t,line:c,children:"x"===n?Object(D.jsx)(T.a,{size:"8em"}):"o"===n?Object(D.jsx)(J.a,{size:"8em"}):null})},I=[[1,4,7],[2,5,8],[3,6,9],[1,2,3],[4,5,6],[7,8,9],[1,5,9],[3,5,7]],N=function(){var e=Object(c.useContext)(z).position,n=Object(c.useState)(Array(10).fill(null)),t=Object(a.a)(n,2),r=t[0],o=t[1],i=Object(c.useState)("x"),s=Object(a.a)(i,2),l=s[0],j=s[1],b=Object(c.useState)(null),d=Object(a.a)(b,2),O=d[0],f=d[1],x=Object(c.useState)(),h=Object(a.a)(x,2),g=h[0],m=h[1],p=Object(c.useState)(!1),v=Object(a.a)(p,2),S=v[0],y=v[1],k=Object(c.useState)(null),F=Object(a.a)(k,2),A=F[0],U=F[1];Object(c.useEffect)((function(){var e;e=r,I.forEach((function(n){e[n[0]]===e[n[1]]&&e[n[1]]===e[n[2]]&&null!==e[n[0]]&&(f(e[n[0]]),y(!1),m(n))}))}),[r]);return u.on("game",(function(n){y(n.start),j(n.move),U(n.first===e?"x":"o")})),u.on("servermove",(function(e){j("x"===l?"o":"x");var n=r.slice();n[e.id]="x"===A?"o":"x",o(n)})),Object(D.jsxs)(D.Fragment,{children:[S?Object(D.jsxs)(E,{children:["it is ",l," turn to play, you are ",A]}):O?Object(D.jsxs)(E,{children:[O," is the winner!!"]}):null,Object(D.jsx)(C,{children:Array.from({length:9},(function(e,n){return n+1})).map((function(e){return Object(D.jsx)(M,{isLine:!!(null===g||void 0===g?void 0:g.includes(e)),id:e,display:r[e],press:function(){null===r[e]&&function(e){if(S&&A===l&&null===O){var n=r.slice();n[e]=l,o(n),j("x"===l?"o":"x"),u.emit("clientmove",{id:e})}}(e)}})}))}),Object(D.jsx)(P,{}),Object(D.jsx)(w,{})]})},q=y.a.ul(h||(h=Object(S.a)(["\nfont-size: 1em;\n"]))),G=y.a.li(g||(g=Object(S.a)(["\nfont-size: 1em;\n"]))),H=t(27),K=y.a.div(m||(m=Object(S.a)(["\n    display: flex;\n    flex: 1;\n    overflow-y: scroll;\n    flex-direction: column;\n    height: 1vh;\n"]))),Q=function(){var e=Object(c.useContext)(z).currentUser;Object(c.useEffect)((function(){}),[e]);var n=function(n){console.log("sending message, ",{msg:j,sender:e}),n.preventDefault(),u.emit("messagesend",{msg:j,sender:e}),i([].concat(Object(H.a)(o),[{msg:j,sender:e}]))},t=Object(c.useState)([]),r=Object(a.a)(t,2),o=r[0],i=r[1],s=Object(c.useState)(""),l=Object(a.a)(s,2),j=l[0],b=l[1];return u.on("messagerec",(function(e){console.log("got message",e),i([].concat(Object(H.a)(o),[e]))})),e?Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(K,{children:[Object(D.jsx)(w,{children:Object(D.jsxs)("form",{onSubmit:function(e){return n(e)},children:[Object(D.jsx)(B,{style:{height:"1.5em"},onChange:function(e){return b(e.target.value)},onSubmit:n,value:j}),Object(D.jsx)(U,{onClick:n,type:"submit",children:"Send"})]})}),o.map((function(e,n){return Object(D.jsxs)(E,{children:[e.sender,": ",e.msg]},n)}))]})}):null},R=function(){var e=Object(c.useContext)(z),n=e.users,t=e.updateUsers,r=e.updateAuth;return u.on("game:users:list",(function(e){console.log("joined,",e),r(e.auth),t(e.list)})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(F,{children:"Connected users:"}),Object(D.jsx)(q,{children:null===n||void 0===n?void 0:n.map((function(e,n){return Object(D.jsx)(G,{children:e},n)}))}),Object(D.jsx)(Q,{})]})},V=y.a.div(p||(p=Object(S.a)(["\ndisplay: flex;\nflex-direction: row;\npadding: 1em 5em;\n"]))),W=y.a.div(v||(v=Object(S.a)(["\n    display: flex;\n    flex-direction: column;\n    /* padding: 5% 30%; */\n    align-content: center;\n    justify-content: flex-start;\n    padding: 12px\n"])));var X=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(A,{children:Object(D.jsxs)(V,{children:[Object(D.jsxs)(W,{children:[Object(D.jsx)(F,{children:"Tic-Tac-Toe"}),Object(D.jsx)(N,{})]}),Object(D.jsx)(W,{children:Object(D.jsx)(R,{})})]})})})};i.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(X,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.02f7bee9.chunk.js.map