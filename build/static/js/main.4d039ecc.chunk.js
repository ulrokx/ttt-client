(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{43:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),i=t(29),a=t.n(i),o=(t(43),t(3)),s=t(38),u="";u="https://arcane-fjord-05208.herokuapp.com/",console.log(u);var l=Object(s.a)(u,{autoConnect:!0});l.on("connect",(function(){console.log("connected")}));var j,b,d,O,f,x,h,g,m,p,v,y,S=t(4),k=t(5),C={lightblue:"#A9EBFF",darkerblue:"#4B9EFD",hoverblue:"#86BDFC",black:"#00171E",orange:"#FFD390",bbackground:"#D8FFDD",hoverorange:"#FFC670"},w=k.a.div(j||(j=Object(S.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-template-rows: 1fr 1fr 1fr;\n    gap: 1em 1em;\n    background: ",";\n    padding: 4em 4em;\n    border-radius: 5%;\n"])),C.bbackground),F=k.a.button(b||(b=Object(S.a)(["\nbackground-color: ",";\nborder-radius: 15px;\nfont-size: 1.4em;\npadding: 10px 40px;\n\n"])),C.lightblue),E=k.a.div(d||(d=Object(S.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\n"]))),A=k.a.h1(O||(O=Object(S.a)(["\nfont-weight: bold;\n"]))),D=k.a.h2(f||(f=Object(S.a)(["\nfont-weight: bold\n"]))),z=t(2),U=Object(c.createContext)(void 0),B=function(e){var n=e.children,t=Object(c.useState)([]),r=Object(o.a)(t,2),i=r[0],a=r[1],s=Object(c.useState)([]),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(c.useState)(!1),d=Object(o.a)(b,2),O=d[0],f=d[1],x=Object(c.useState)(null),h=Object(o.a)(x,2),g=h[0],m=h[1],p=Object(c.useState)(null),v=Object(o.a)(p,2),y=v[0],S=v[1];return Object(c.useEffect)((function(){console.log(l)}),[l]),Object(z.jsx)(U.Provider,{value:{currentUser:y,updateCurrentUser:function(e){S(e)},users:l,messages:i,auth:O,position:g,updatePosition:function(e){m(e)},updateMessages:function(e){var n=i.slice();n.push(e),a(n)},updateUsers:function(e){j(e)},updateAuth:function(e){f("true"===e)}},children:n})},M=k.a.input(x||(x=Object(S.a)(["\nfont-size: 1.4em;\npadding: .5em 1em;\nborder-radius: 25px;\nborder-width: 2px;\nborder-color: ",";\nwidth: 14em;\n"])),C.darkerblue),P=function(){var e=Object(c.useContext)(U),n=e.auth,t=e.updatePosition,r=e.updateCurrentUser,i=Object(c.useState)(""),a=Object(o.a)(i,2),s=a[0],u=a[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),d=b[0],O=b[1],f=Object(c.useState)(""),x=Object(o.a)(f,2),h=x[0],g=x[1];return l.on("game:join:good",(function(e){g(e.msg),t(e.position),r(e.username)})),Object(z.jsxs)(z.Fragment,{children:[n?null:Object(z.jsxs)(z.Fragment,{children:[" ",Object(z.jsxs)(E,{children:[Object(z.jsx)(M,{value:s,onChange:function(e){return u(e.target.value)},placeholder:"your name"}),Object(z.jsx)(F,{onClick:function(e){l.emit("game:join",{nick:s,room:d})},children:"Connect"})]}),Object(z.jsx)(M,{value:d,onChange:function(e){return O(e.target.value)},placeholder:"room code"})," "]}),Object(z.jsx)(D,{children:h})]})},T=t(36),J=t(37),L=k.a.button(h||(h=Object(S.a)(["\n    flex: 0.33;\n    width: 10em;\n    height: 10em;\n    background: ",";\n    border-radius: 8%;\n    border-width: 0;\n    box-shadow: 5px 5px 3px grey;\n\n\n    &:hover {\n        background: ","\n    }\n\n    \n    &:active {\n        background: ","\n    }\n\n"])),(function(e){return e.line?C.orange:C.lightblue}),(function(e){return e.line?C.hoverorange:C.hoverblue}),C.darkerblue),I=function(e){var n=e.display,t=(e.id,e.press),c=e.isLine;return Object(z.jsx)(L,{onClick:t,line:c,children:"x"===n?Object(z.jsx)(T.a,{size:"8em"}):"o"===n?Object(z.jsx)(J.a,{size:"8em"}):null})},N=[[1,4,7],[2,5,8],[3,6,9],[1,2,3],[4,5,6],[7,8,9],[1,5,9],[3,5,7]],q=function(){var e=Object(c.useContext)(U).position,n=Object(c.useState)(Array(10).fill(null)),t=Object(o.a)(n,2),r=t[0],i=t[1],a=Object(c.useState)(!1),s=Object(o.a)(a,2),u=s[0],j=s[1],b=Object(c.useState)("x"),d=Object(o.a)(b,2),O=d[0],f=d[1],x=Object(c.useState)(0),h=Object(o.a)(x,2),g=h[0],m=h[1],p=Object(c.useState)(!1),v=Object(o.a)(p,2),y=v[0],S=v[1],k=Object(c.useState)(null),C=Object(o.a)(k,2),A=C[0],B=C[1],M=Object(c.useState)(),T=Object(o.a)(M,2),J=T[0],L=T[1],q=Object(c.useState)(!1),G=Object(o.a)(q,2),H=G[0],K=G[1],Q=Object(c.useState)(null),R=Object(o.a)(Q,2),V=R[0],W=R[1],X=function(e){m(g+1),N.forEach((function(n){e[n[0]]===e[n[1]]&&e[n[1]]===e[n[2]]&&null!==e[n[0]]&&(B(e[n[0]]),K(!1),L(n))}))};Object(c.useMemo)((function(){return X(r)}),[r]);Object(c.useEffect)((function(){X(r)}),[r]),Object(c.useEffect)((function(){g>=9&&S(!0)}),[g]);return l.on("game",(function(n){K(n.start),f(n.move),W(n.first===e?"x":"o")})),l.on("servermove",(function(e){f("x"===O?"o":"x");var n=r.slice();n[e.id]="x"===V?"o":"x",i(n)})),l.on("playagain",(function(n){i(Array(10).fill(null)),j(!1),f("x"),m(0),S(!1),B(null),L(null),K(!0),W(n.first===e?"x":"o")})),Object(z.jsxs)(z.Fragment,{children:[H?Object(z.jsxs)(D,{children:["it is ",O," turn to play, you are ",V]}):A?Object(z.jsxs)(D,{children:[A," is the winner!!"]}):y?Object(z.jsx)(D,{children:"it's a tie :|"}):u?Object(z.jsx)(D,{children:"waiting for other player..."}):null,!H&&r.includes("x")?Object(z.jsx)(F,{onClick:function(){l.emit("game:again"),j(!0)},children:"play again"}):null,Object(z.jsx)(w,{children:Array.from({length:9},(function(e,n){return n+1})).map((function(e,n){return Object(z.jsx)(I,{isLine:!!(null===J||void 0===J?void 0:J.includes(e)),id:e,display:r[e],press:function(){null===r[e]&&function(e){if(H&&V===O&&null===A){var n=r.slice();n[e]=O,i(n),f("x"===O?"o":"x"),l.emit("clientmove",{id:e})}}(e)}},n)}))}),Object(z.jsx)(P,{}),Object(z.jsx)(E,{})]})},G=k.a.ul(g||(g=Object(S.a)(["\nfont-size: 1em;\n"]))),H=k.a.li(m||(m=Object(S.a)(["\nfont-size: 1em;\n"]))),K=t(27),Q=k.a.div(p||(p=Object(S.a)(["\n    overflow-y: auto;\n    flex-direction: column;\n    height: 500px;\n"]))),R=function(){var e=Object(c.useContext)(U).currentUser;Object(c.useEffect)((function(){}),[e]);var n=function(n){console.log("sending message, ",{msg:j,sender:e}),n.preventDefault(),l.emit("messagesend",{msg:j,sender:e}),b(""),a([{msg:j,sender:e}].concat(Object(K.a)(i)))},t=Object(c.useState)([]),r=Object(o.a)(t,2),i=r[0],a=r[1],s=Object(c.useState)(""),u=Object(o.a)(s,2),j=u[0],b=u[1];return l.on("messagerec",(function(e){a([e].concat(Object(K.a)(i)))})),e?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(E,{children:Object(z.jsxs)("form",{onSubmit:function(e){n(e)},children:[Object(z.jsx)(M,{name:"message",style:{height:"1.5em"},onChange:function(e){return b(e.target.value)},onSubmit:n,value:j}),Object(z.jsx)(F,{onClick:n,type:"submit",children:"Send"})]})}),Object(z.jsx)(Q,{children:i.map((function(e,n){return Object(z.jsxs)(D,{children:[e.sender,": ",e.msg]},n)})).reverse()})]}):null},V=function(){var e=Object(c.useContext)(U),n=e.users,t=e.updateUsers,r=e.updateAuth;return l.on("game:users:list",(function(e){console.log("joined,",e),r(e.auth),t(e.list)})),Object(z.jsxs)(z.Fragment,{children:[n.length>0?Object(z.jsx)(A,{children:"Connected users:"}):null,Object(z.jsx)(G,{children:null===n||void 0===n?void 0:n.map((function(e,n){return Object(z.jsx)(H,{children:e},n)}))}),Object(z.jsx)(R,{})]})},W=k.a.div(v||(v=Object(S.a)(["\ndisplay: flex;\nflex-direction: row;\npadding: 1em 5em;\nflex: 1;\njustify-content: space-between;\n\n@media(max-width: 1000px) {\n    flex-direction: column;\n    justify-content: flex-start;\n}\n"]))),X=k.a.div(y||(y=Object(S.a)(["\n    display: flex;\n    flex-direction: column;\n    /* padding: 5% 30%; */\n    align-content: center;\n    justify-content: flex-start;\n    padding: 12px\n"])));var Y=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(B,{children:Object(z.jsxs)(W,{children:[Object(z.jsxs)(X,{children:[Object(z.jsx)(A,{children:"Tic-Tac-Toe"}),Object(z.jsx)(q,{})]}),Object(z.jsx)(X,{children:Object(z.jsx)(V,{})})]})})})};a.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(Y,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.4d039ecc.chunk.js.map